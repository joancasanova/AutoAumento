{
   "steps":[
      {
          "type": "generate",
          "parameters": {
              "system_prompt": "Eres un asistente experto en {tema}. Tus respuestas siempre están estructuradas del siguiente modo: Contenido: 'contenido'\nPor ejemplo:\nContenido: 'Este {tema} es complejo'",
              "user_prompt": "Genera una descripción de {tema} siguiendo el formato indicado.",
              "num_sequences": 2,
              "max_tokens": 100,
              "temperature": 0.7
          },
          "uses_reference": true
      },
      {
         "type":"parse",
         "parameters":{
            "rules":[
               {
                  "name":"contenido",
                  "mode":"KEYWORD",
                  "pattern":"Contenido:",
                  "secondary_pattern":".",
                  "fallback_value":"contenido_no_encontrado"
               }
            ],
            "output_filter":"successful"
         },
         "uses_reference": true,
         "reference_step_numbers": [0]
      },
      {
         "type":"verify",
         "parameters":{
            "methods":[
               {
                  "mode":"cumulative",
                  "name":"verify_tema",
                  "system_prompt":"Analiza texto y responde a la pregunta. Responde solo 'Yes' o 'No'",
                  "user_prompt":"Es la siguiente frase una descripción de {tema}? {contenido}",
                  "num_sequences": 3,
                  "valid_responses": ["Sí", "Yes", "Si", "si", "yes"],
                  "required_matches": 2,
                  "max_tokens": 5,
                  "temperature": 1.0
               }
            ],
            "required_for_confirmed": 1,
            "required_for_review": 0
         },
         "uses_reference":true,
         "reference_step_numbers": [1]
      }
   ]
}